(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["videoPag/videoSearch/videoSearch"],{"3ce5":function(t,e,n){"use strict";(function(t){var i=n("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=i(n("2eee")),r=i(n("448a")),a=i(n("c973"));function u(t,e){var n="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"===typeof t)return c(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(t,e)}(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var i=0,o=function(){};return{s:o,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,a=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,r=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw r}}}}function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}var s={data:function(){return{videoMes:"",mes:"",videoList:[],videoHistory:[],isloading:!1,page:1,total:0}},onLoad:function(e){this.mes=e.mes,this.videoHistory=JSON.parse(t.getStorageSync("videoHistory")||"[]")},methods:{search:function(e){var n=arguments,i=this;return(0,a.default)(o.default.mark((function e(){var a,c,s,d,f,l,v;return o.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a=n.length>1&&void 0!==n[1]?n[1]:1,c=n.length>2&&void 0!==n[2]?n[2]:10,!i.videoMes){e.next=11;break}return e.next=5,t.$http.get("/video/search/".concat(i.mes,"/").concat(i.videoMes,"/").concat(a,"/").concat(c));case 5:if(s=e.sent,0==s.data.code){i.total=s.data.count,d=new Set(i.videoList.map((function(t){return t.videoId}))),f=u(s.data.data);try{for(f.s();!(l=f.n()).done;)v=l.value,d.has(v.videoId)||(i.videoList.push(v),d.add(v.videoId))}catch(o){f.e(o)}finally{f.f()}}i.videoHistory.unshift(i.videoMes),i.videoHistory=(0,r.default)(new Set(i.videoHistory)),e.next=12;break;case 11:t.showToast({title:"请输入要搜索的内容",duration:1e3,icon:"none"});case 12:case"end":return e.stop()}}),e)})))()},clear:function(){this.videoMes="",this.videoList=[]},input:function(t){var e=this;clearTimeout(this.timer),this.timer=setTimeout((function(){e.kw=t.value}),500)},clearHistory:function(){this.videoHistory=[],t.removeStorageSync("videoHistory")},toSearch:function(t){this.videoMes=t,this.search()},toVideoDetail:function(e){t.navigateTo({url:"/videoPag/videoDetail/videoDetail?video="+JSON.stringify(e)})}},onReachBottom:function(){if(10*this.page>=this.total)return t.$showMsg("没有了哦！");this.isloading||(this.page+=1,this.search(this.page))},onUnload:function(){t.setStorageSync("videoHistory",JSON.stringify(this.videoHistory))}};e.default=s}).call(this,n("543d")["default"])},"44ad":function(t,e,n){"use strict";n.r(e);var i=n("3ce5"),o=n.n(i);for(var r in i)["default"].indexOf(r)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(r);e["default"]=o.a},"4b5b":function(t,e,n){"use strict";n.d(e,"b",(function(){return o})),n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return i}));var i={uniSearchBar:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uni-search-bar/components/uni-search-bar/uni-search-bar")]).then(n.bind(null,"34c4"))},history:function(){return n.e("components/history/history").then(n.bind(null,"887b"))},uniSection:function(){return n.e("uni_modules/uni-section/components/uni-section/uni-section").then(n.bind(null,"254c"))},uniCard:function(){return n.e("uni_modules/uni-card/components/uni-card/uni-card").then(n.bind(null,"249c"))}},o=function(){var t=this.$createElement;this._self._c},r=[]},"875e":function(t,e,n){"use strict";var i=n("f3a9"),o=n.n(i);o.a},d364:function(t,e,n){"use strict";(function(t,e){var i=n("4ea4");n("e655");i(n("66fd"));var o=i(n("f5e4"));t.__webpack_require_UNI_MP_PLUGIN__=n,e(o.default)}).call(this,n("bc2e")["default"],n("543d")["createPage"])},f3a9:function(t,e,n){},f5e4:function(t,e,n){"use strict";n.r(e);var i=n("4b5b"),o=n("44ad");for(var r in o)["default"].indexOf(r)<0&&function(t){n.d(e,t,(function(){return o[t]}))}(r);n("875e");var a=n("f0c5"),u=Object(a["a"])(o["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],void 0);e["default"]=u.exports}},[["d364","common/runtime","common/vendor"]]]);